version = "dev"
description = "Basic extensions for Ocsigen server"

package "redirectmod" (
  exists_if = "redirectmod.cmo,redirectmod.cmx"
  version = "[distributed with Ocsigen server]"
  description = "HTTP redirections"
  archive(byte) = "redirectmod.cmo"
  archive(native) = "redirectmod.cmx"
)

package "outputfilter" (
  exists_if = "outputfilter.cmo,outputfilter.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Changing HTTP answers before sending"
  archive(byte) = "outputfilter.cmo"
  archive(native) = "outputfilter.cmx"
)

package "userconf" (
  exists_if = "userconf.cmo,userconf.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Allowing users to have their own configuration files"
  archive(byte) = "userconf.cmo"
  archive(native) = "userconf.cmx"
)

package "staticmod" (
  exists_if = "staticmod.cmo,staticmod.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Serving static files"
  archive(byte) = "staticmod.cmo"
  archive(native) = "staticmod.cmx"
)

package "revproxy" (
  exists_if = "revproxy.cmo,revproxy.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Reverse proxy"
  archive(byte) = "revproxy.cmo"
  archive(native) = "revproxy.cmx"
)

package "accesscontrol" (
  exists_if = "accesscontrol.cmo,accesscontrol.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Filtering HTTP requests"
  archive(byte) = "accesscontrol.cmo"
  archive(native) = "accesscontrol.cmx"
)

package "extendconfiguration" (
  exists_if = "extendconfiguration.cmo,extendconfiguration.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Updating server options"
  archive(byte) = "extendconfiguration.cmo"
  archive(native) = "extendconfiguration.cmx"
)

package "authbasic" (
  exists_if = "authbasic.cmo,authbasic.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Basic HTTP Authentication"
  archive(byte) = "authbasic.cmo"
  archive(native) = "authbasic.cmx"
)

package "cgimod" (
  exists_if = "cgimod.cmo,cgimod.cmx"
  version = "[distributed with Ocsigen server]"
  description = "CGI support"
  archive(byte) = "cgimod.cmo"
  archive(native) = "cgimod.cmx"
)

package "ocsipersist-sqlite" (
  exists_if = "ocsipersist-sqlite.cma,ocsipersist-sqlite.cmxa"
  requires = "sqlite3"
  version = "[distributed with Ocsigen server]"
  description = "Persistent data storage with SQLite3"
  archive(byte) = "ocsipersist-sqlite.cma"
  archive(native) = "ocsipersist-sqlite.cmxa"
)

package "ocsipersist-dbm" (
  exists_if = "ocsipersist-dbm.cma,ocsipersist-dbm.cmxa"
  version = "[distributed with Ocsigen server]"
  description = "Persistent data storage with DBM"
  archive(byte) = "ocsipersist-dbm.cma"
  archive(native) = "ocsipersist-dbm.cmxa"
)

package "deflatemod" (
  exists_if = "deflatemod.cmo,deflatemod.cmx"
  requires = "%%CAMLZIPNAME%%"
  version = "[distributed with Ocsigen server]"
  description = "Compressing HTTP reply bodies"
  archive(byte) = "deflatemod.cmo"
  archive(native) = "deflatemod.cmx"
)

package "rewritemod" (
  exists_if = "rewritemod.cmo,rewritemod.cmx"
  version = "[distributed with Ocsigen server]"
  description = "Rewriting URLs"
  archive(byte) = "rewritemod.cmo"
  archive(native) = "rewritemod.cmx"
)

package "comet" (
  exists_if = "ocsigen_comet.cmo,ocsigen_comet.cmx"
  requires = "lwt.react"
  version = "[distributed with Ocsigen server]"
  description = "Comet server-to-client communication"
  archive(byte) = "ocsigen_comet.cmo"
  archive(native) = "ocsigen_comet.cmx"
)
