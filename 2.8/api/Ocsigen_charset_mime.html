<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Ocsigen_charset_mime </title><meta charset="utf8"/><link rel="stylesheet" href="/home/balat/ocsigen/ocsigen.github.io/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/home/balat/ocsigen/html_of_wiki/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime">Ocsigen_charset_mime</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Ocsigen_charset_mime</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Charset
</p><hr/><pre class="ocsforge_color odocwiki_code" id="TYPEextension"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">extension</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEfile"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">file</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEfilename"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">filename</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><p>Charset
</p><pre class="ocsforge_color odocwiki_code" id="TYPEcharset"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">charset</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><div class="odocwiki_info"><p>By convention, &quot;no specified charset&quot; is represented by the empty
string</p></div><pre class="ocsforge_color odocwiki_code" id="VALno_charset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">no_charset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEcharset_assoc"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">charset_assoc</span></pre><div class="odocwiki_info"><p>Association between extensions and charset, with a default value.</p></div><pre class="ocsforge_color odocwiki_code" id="VALempty_charset_assoc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">empty_charset_assoc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?default:</span><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span></span></pre><div class="odocwiki_info"><p>All files are mapped to <span class="odocwiki_inlinecode">no_charset</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALfind_charset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">find_charset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALdefault_charset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">default_charset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span></span></pre><div class="odocwiki_info"><p>Functions related to the default charset in the association</p></div><pre class="ocsforge_color odocwiki_code" id="VALset_default_charset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_default_charset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_charset_ext"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_charset_ext</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEextension">extension</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span></span></pre><div class="odocwiki_info"><p>Updates the mapping between extensions from a file to its charset.
The update can be specified using the extension of the file,
the name of the file, or the entire file (with its path)</p></div><pre class="ocsforge_color odocwiki_code" id="VALupdate_charset_file"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_charset_file</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEfilename">filename</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_charset_regexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_charset_regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset">charset</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEcharset_assoc">charset_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEmime_type"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">mime_type</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type">string</span></pre><div class="odocwiki_info"><p>MIME types; the default value is <span class="odocwiki_inlinecode">&quot;application/octet-stream&quot;</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALdefault_mime_type"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">default_mime_type</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="TYPEmime_assoc"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">mime_assoc</span></pre><div class="odocwiki_info"><p>association between extensions and mime types, with default value</p></div><pre class="ocsforge_color odocwiki_code" id="VALdefault_mime_assoc"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">default_mime_assoc</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre><div class="odocwiki_info"><p>Default values, obtained by reading the file specified by
<span class="odocwiki_inlinecode">Ocsigen_config.get_mimefile</span></p></div><pre class="ocsforge_color odocwiki_code" id="VALparse_mime_types"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">parse_mime_types</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">filename:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre><div class="odocwiki_info"><p>Parsing of a file containing mime associations, such as /etc/mime-types</p></div><pre class="ocsforge_color odocwiki_code" id="VALfind_mime"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">find_mime</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEfile">file</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string</span></pre><pre class="ocsforge_color odocwiki_code" id="VALdefault_mime"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">default_mime</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALset_default_mime"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_default_mime</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_mime_ext"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_mime_ext</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEextension">extension</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_mime_file"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_mime_file</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEfilename">filename</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALupdate_mime_regexp"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">update_mime_regexp</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_uid">Netstring_pcre</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">regexp</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_type">mime_type</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_charset_mime#TYPEmime_assoc">mime_assoc</a></span></span></pre></body></html>
