<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Ocsigen_cookies </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/js/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies">Ocsigen_cookies</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Ocsigen_cookies</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>This table is to store cookie values for each path.
The key has type Url.path option:
it is for the path (default: root of the site),
</p><hr/><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies.CookiesTable">CookiesTable</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Map.S</span></span><span class="odocwiki_type">with type key = string</span></pre><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies.Cookies">Cookies</a></span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_uid">Map.S</span></span><span class="odocwiki_type">with type key = Url.path</span></pre><div class="odocwiki_info"><p>This table is to store cookie values for each path.</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEcookie"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">cookie</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_variants"><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">OSet</span> <span class="ocsforge_color_keyword">of</span> <span class="odocwiki_type">float option * string * bool</span></span></span><span class="odocwiki_variant"><span class="odocwiki_variant_constr"><span class="ocsforge_color_keyword"> |</span> <span class="ocsforge_color_uid">OUnset</span></span></span></span></pre><div class="odocwiki_info"><p>Type used for cookies to set.
The float option is the timestamp for the expiration date.
The string is the value.
If the bool is true and the protocol is https, the cookie will be secure
(will ask the browser to send it only through secure connections).</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEcookieset"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">cookieset</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies#TYPEcookie">cookie</a></span> <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><br/>  <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALempty_cookieset"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">empty_cookieset</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">'a <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><pre class="ocsforge_color odocwiki_code" id="VALadd_cookie"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_cookie</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Ocsigen_lib</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Url</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">path</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">add_cookie path c v cookie_table</span> 
adds the cookie <span class="odocwiki_inlinecode">c</span> to the table <span class="odocwiki_inlinecode">cookie_table</span>.
If the cookie is already bound, the previous binding disappear.</p></div><pre class="ocsforge_color odocwiki_code" id="VALremove_cookie"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">remove_cookie</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_uid">Ocsigen_lib</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Url</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">path</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  'a <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">remove_cookie c cookie_table</span> removes the cookie <span class="odocwiki_inlinecode">c</span>
from the table <span class="odocwiki_inlinecode">cookie_table</span>.
Warning: it is not equivalent to <span class="odocwiki_inlinecode">add_cookie ... OUnset ...</span>).</p></div><pre class="ocsforge_color odocwiki_code" id="VALadd_cookies"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_cookies</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies#TYPEcookie">cookie</a></span> <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><br/>  <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies#TYPEcookie">cookie</a></span> <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><br/>  <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/api/Ocsigen_cookies#TYPEcookie">cookie</a></span> <span class="ocsforge_color_uid">CookiesTable</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><br/>  <span class="ocsforge_color_uid">Cookies</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">add_cookies newcookies oldcookies</span> adds the cookies from <span class="odocwiki_inlinecode">newcookies</span>
to <span class="odocwiki_inlinecode">oldcookies</span>. If cookies are already bound in oldcookies,
the previous binding disappear.</p></div></body></html>
