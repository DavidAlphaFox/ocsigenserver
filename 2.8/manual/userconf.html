<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Userconf</title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/js/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Userconf</h1><p>Userconf allows users to have their own configuration files. It is in beta version, and requires some cooperation
from other extensions to disallow unsafe options (for example, in version 1.2 it is not possible to have Eliom sites for users).
</p><h2> Configuration </h2><p>To use this extension, first load it from the configuration file:
</p><pre>&lt;extension findlib-package=&quot;ocsigenserver.ext.userconf&quot;/&gt;
</pre><p>Then, if you want to allow users to have their own configuration files, put in your hosts something like the lines
below. (Unless you understand Userconf well, you probably just want to use those lines as is.)
</p><pre>&lt;redirect regexp=&quot;(https?://[^/]*)/~([^/]*)&quot; dest=&quot;\1/~\2/&quot; /&gt;
&lt;userconf regexp=&quot;~([^/]*)/(.*)&quot; conf=&quot;$u(\1)/.ocsigen&quot; prefix=&quot;~\1&quot; url=&quot;\2&quot; localpath=&quot;$u(\1)/public_html&quot; /&gt;
</pre><p>The configuration file specified in <span class="teletype">conf</span> will be parsed for each request matching the regular expression
<span class="teletype">regexp</span>. Here, as in staticmod, <span class="teletype">$u(toto)</span> is the Unix home directory of user <span class="teletype">toto</span>. Extensions inside
the user configuration file will behave as though executed in a <span class="teletype">&lt;site&gt;</span> tag of root <span class="teletype">prefix</span>, while
<span class="teletype">url</span> is used to match the remainder of the url (the path <span class="teletype">prefix/url</span> must be equal to <span class="teletype">regexp</span>).
Finally, the option <span class="teletype">localpath</span> is used to specify the files the user is allowed to send: in userconf mode,
all the paths used in <span><a class="ocsforge_doclink_ocsigenserver" href="/ocsigenserver/2.8/manual/staticmod">Staticmod </a></span> must be relative, and are appended after the evaluation of
<span class="teletype">localpath</span>.
</p><p>The syntax of user configuration files is usually the same as the one of the part between <span class="teletype">&lt;host&gt;</span> and <span class="teletype">&lt;/host&gt;</span> in the main configuration file. However, the extensions can choose to disallow some options that are unsafe in user mode,
or forbid user mode entirely. See their individual documentation for details.
</p></body></html>
